---
layout: default
title: Anacondaの役割と入れ方
toc: true
last_edit: 2019-10-29
---

# 予め入っているpythonでは何故だめなのか

Terminalで普通`python`と打つと、システムに予めインストールされたpythonプログラムを起動します。pythonプログラムだけを使うのであれば、それでいいのですが、ほとんどの場合、pythonそのものの他に、**library**（ライブラリー）が必要になります。libraryとは、pythonプログラムには無い、他の人が書いた良く使うコードです。例えば、numpyというlibraryは、ベクトルや行列の計算などを行うためのものですし、pandasというのは、表データを扱うためのライブラリです。しかし、ライブラリーというのは常に変わっていくもので、新しい機能が追加されたり、古びた機能が削除されたりします。そのため、OSなどのシステムを作るとき、ライブラリーの必要な**version**を固定にすることが望ましいです。

---

さて、仮にOSに予めnumpyのバージョン1.0（略してv1.0）が入っているとします。OSでは動画を再生するために、numpyの中にある`addVectors`という関数があるとします。この関数を`addVectors([1, 2], [3, 4])`で呼ぶと、ベクトル$$(1, 2)$$とベクトル$$(3, 4)$$を足し算し、ベクトル$$(4, 6)$$が得られます。

では、あなたは今心想学習の勉強をしているのですが、2つのベクトルだけではなく、10個、あるいは100個のベクトルを一気に足し算したいです。numpyの機能を調べてみたら、`addVectors([[1, 2], [3, 4], [5, 6], ...])`というように、リストの中で任意の数のベクトルを入れて、リストそのものを関数に渡すと、全部足してくれる機能がありました。しかし、この関数はv2.0にしかなく、それどころかv1.0とは使い方が違いますね。

さて、ここでどうすればいいでしょうか？OSに入っているnumpyを最新版にすると、OSが動画再生できなくなります。一方でv1.0を使うと、自分が使いたい機能が使えません。

---

答えは、システムのpythonとは全く違うところで、自分の好きなpythonとそのライブラリーのバージョンをインストールすることです。そうすれば、システムはシステムに必要なものが使えて、あなたはあなたが必要としているものが使えますね。

このように、pythonやそのパッケージ等が存在する環境を分けるために、Anacondaというものがあります。

# Anacondaの役割

Anacondaは、簡単に言うと**開発環境**を管理するためのツールです。Anacondaを使うと、**環境**という、大雑把に言えばディレクトリのようなものを作ることができ、その中に好きなpythonとそのライブラリを入れ、必要なときに必要な環境に切り替えることが簡単にできます。例えば、心想学習の勉強は最新のpythonと最新のライブラリでやりたいから、それらが入っている環境`machine_learning`を作ります。一方、会社の仕事で開発しているプログラムでpython2.7を使って、特定のnumpyのバージョンを使わなければいけないのであれば、それらが入っている`work`環境を作ると良いでしょう。

# Anacondaの入れ方

## 事前準備

- ユーザー名が`michael`であり、HOMEディレクトリが`/home/michael`だと仮定します。

## 手順


### ダウンロード

まず、[ここ](https://www.anaconda.com/distribution/)からAnacondaのインストーラーをダウンロードします。python3.7の、64bit(x86)インストーラをダウンロードしてください。普段は`/home/michael/Downloads/Anaconda3-YYYY-MM-Linux-x86-64.sh`に保存されます。（ここで`YYYY-MM`はダウンロードした時期によるので注意してください）。

### インストール

- Terminalで`cd ~/Downloads`でDownloadsに移動して、`sh Anaconda3-YYYY-MM-Linux-x86-64.sh`を実行します（`YYYY-MM`を適宜埋めてください）。
- TerminalでAnacondaがインストール仮定について丁寧に教えてくれるので、それに従えば良い。
- インストールが終わったあっと、`.bashrc`に新たにAnacondaの環境設定が入っているので、それを適用するためにTerminalを再起動します。[.bashrcについてはここ]({{ site.baseurl }}{% link _linux/environment_vars.md %})を参照してください。
